"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};!function(n){function t(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return n[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var e={};t.m=n,t.c=e,t.p="",t(0)}([function(n,t,e){function r(){$("#pleaseLogIn")[0].style.display="block",$("#noWeb3Dashboard")[0].style.display="none",$("#liveDashboard")[0].style.display="none",$("#chooseGame")[0].style.display="none",$("#lastRoundWins")[0].style.display="none"}function o(){$("#pleaseLogIn")[0].style.display="none",$("#noWeb3Dashboard")[0].style.display="block",$("#liveDashboard")[0].style.display="none",$("#chooseGame")[0].style.display="none",$("#lastRoundWins")[0].style.display="none"}function i(){$("#pleaseLogIn")[0].style.display="none",$("#noWeb3Dashboard")[0].style.display="none",$("#liveDashboard")[0].style.display="block",$("#chooseGame")[0].style.display="block",$("#lastRoundWins")[0].style.display="block"}function u(){var n=web3.eth.contract([{constant:!0,inputs:[{name:"",type:"address"}],name:"yourPot",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"}],name:"TheWinner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"leader",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"lastblock",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"backupPot",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"CurrentRound",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"gracePeriod",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"backupRate",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"blockStamp",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"currentPot",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"currentBlock",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"roundTime",outputs:[{name:"",type:"uint16"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"uint256"},{name:"",type:"address"}],name:"userStack",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"highestBid",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"blockTimeStmap",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"_leader",type:"address"},{indexed:!1,name:"_round",type:"uint64"},{indexed:!1,name:"_pot",type:"uint256"}],name:"LastLeaderGotPot",type:"event"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{constant:!1,inputs:[],name:"placeBid",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[],name:"destroy",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_addr",type:"address"}],name:"killDeadLockedFunds",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"_admin",type:"address"},{indexed:!1,name:"_amount",type:"uint256"}],name:"BackupPotCleaned",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_bidder",type:"address"},{indexed:!0,name:"_round",type:"uint256"},{indexed:!1,name:"_value",type:"uint256"},{indexed:!1,name:"_stack",type:"uint256"}],name:"BidPlaced",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_guyHowDidNotWithdraw",type:"address"},{indexed:!0,name:"_admin",type:"address"},{indexed:!1,name:"_amount",type:"uint256"}],name:"CleanedLockedFunds",type:"event"},{constant:!1,inputs:[],name:"payDay",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"getBackupPot",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"_newLeader",type:"address"},{indexed:!0,name:"_round",type:"uint256"},{indexed:!1,name:"_stack",type:"uint256"}],name:"LeaderChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_leader",type:"address"},{indexed:!1,name:"_withdrawedAmount",type:"uint256"}],name:"MoneyTransfered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_leader",type:"address"},{indexed:!0,name:"_round",type:"uint256"},{indexed:!1,name:"_stack",type:"uint256"}],name:"RoundEndedAndTheLeaderIs",type:"event"}]);switch(function(n){for(var t=null,e=[],r=location.search.substr(1).split("&"),o=0;o<r.length;o++)(e=r[o].split("="))[0]===n&&(t=decodeURIComponent(e[1]));return t}("kind")){case null:t="";break;case"666":t="0xf37bb9d27b2ce522ca09cc9bec165c09e122b9c9";break;case"13":t="0x2ee919bbc8bc437f95054c974f29e91a84e6a54e";break;case"dev":t="0x2361633f39Fc42A933Ab6f67bf80FC49A12cBa4d";break;default:var t=""}console.log("Connected to contract: "+t);var e=n.at(t);null!=l()&&f(e),g(e),x(e),k(e,4)}function a(n,t){return web3.fromWei(n.args._stack,"ether").toString(10)<web3.fromWei(t.args._stack,"ether").toString(10)?1:web3.fromWei(n.args._stack,"ether").toString(10)>web3.fromWei(t.args._stack,"ether").toString(10)?-1:0}function c(n,t){return web3.fromWei(n.args._pot,"ether").toString(10)<web3.fromWei(t.args._pot,"ether").toString(10)?1:web3.fromWei(n.args._pot,"ether").toString(10)>web3.fromWei(t.args._pot,"ether").toString(10)?-1:0}function l(n,t){return null!=n?(console.error("An error occurred: "+n),null):void 0==web3.eth.accounts[0]?(r(),null):(console.log("Your address: "+web3.eth.accounts[0]),$("#accountCheckPot")[0].value=web3.eth.accounts[0].toString(),i(),web3.eth.accounts[0])}function s(){for(var n=$(".IfLoggedIn"),t=0;t<n.length;t++)n[t].style.display="block";for(var n=$(".accountID"),t=0;t<n.length;t++)n[t].innerHTML=web3.eth.accounts[0]}function f(n){s(),p(n),M(n,null),web3.eth.filter("latest").watch(function(t,e){if(null!=t)console.log("Something went wrong with the block number shit.");else{var r=web3.eth.getBlockNumber(m);console.log(r),p(n)}})}function p(n){n.lastblock(function(t,e){null!=t?console.log(t):web3.eth.getBlockNumber(function(t,r){null!=t?console.log(t):n.roundTime(function(t,o){if(null!=t)console.log(t);else{var i=parseInt(e),u=parseInt(r),a=parseInt(o),c=u-i;c>a?(d(n,!0),y(n,!0),h(n,i,!0),b(n,!0),_(),v(c,a,!0)):(d(n,!1),y(n,!1),h(n,i,!1),b(n,!1),w(n,i,"latest"),v(c,a,!1))}})})})}function d(n,t){n.CurrentRound(function(n,e){if(null!=n)console.log(n);else{var r=parseInt(e);t&&r++,$(".roundCounterDisplay")[0].innerHTML="#"+r.toString(10)}})}function y(n,t){n.highestBid(function(n,e){$("#leadingBid")[0].innerHTML=t?"0<sup>ETH</sup>":web3.fromWei(e,"ether")+"<sup>ETH</sup>"})}function h(n,t,e){n.BidPlaced({},{fromBlock:t-1,toBlock:"latest"}).get(function(n,t){if(null!=n)console.log(n);else{var r=t.length;e&&(r=0),$("#TotalRoundBids")[0].innerHTML="Total bids: "+r+" "}})}function v(n,t,e){$("#RoundTime")[0].innerHTML=t.toString()+" blocks";var r=t.toString(10)-n;$("#blockCountDown")[0].innerHTML=r>0?r+" blocks":e?"13 blocks":"0 blocks"}function b(n,t){n.currentPot(function(n,e){null!=n?console.log(n):$("#info_potSize")[0].innerHTML=t?"0<sup>ETH</sup>":web3.fromWei(e,"ether")+"<sup>ETH</sup>"})}function m(n,t){null!=n&&console.log(n)}function g(n){document.getElementById("biddingBtn").addEventListener("click",function(){var t=document.getElementById("theBidValue").value;t=web3.toWei(t,"ether"),n.placeBid.sendTransaction({from:web3.eth.accounts[0],value:t},function(n,t){n?(console.log(n),console.log("Please reload the page. You maybe changed the account and did not reload."),location.reload()):console.log("Tx Hash: "+t)})})}function w(n,t,e){n.LeaderChanged({},{fromBlock:t,toBlock:e}).get(function(n,t){if(null!=n)console.log(n);else if(void 0!=t[0]){t=t.sort(a);(t=S.uniq(t,function(n){return n.args._newLeader}))[0].args._round;var e=web3.fromWei(t[0].args._stack,"ether");_(),t.slice(0,8).forEach(function(n,t){$("#leaderBoard table").append("<tr><td>"+(t+1)+"</td><td>"+web3.fromWei(n.args._stack,"ether").toString(10)+"<sup>ETH</sup></td><td>"+web3.fromWei(n.args._stack,"ether").minus(e)+"<sup>ETH</sup></td><td>"+n.args._newLeader.toString(10).substring(2,9)+"</td></tr>")})}})}function _(){$("#leaderBoard table tbody").empty()}function k(n,t){n.LastLeaderGotPot({},{fromBlock:0,toBlock:"latest"}).get(function(e,r){null!=e?console.log(e):void 0!=r[0]&&(r.slice(r.length-t,r.length).forEach(function(n,t){n.args._pot.greaterThan(0)&&$("#lastRoundWins table").append("<tr><td>"+n.args._leader+"</td><td>"+web3.fromWei(n.args._pot,"ether")+"</td><td>"+n.args._round+"</td></tr>")}),(r=r.sort(c)).slice(0,3).forEach(function(t,e){n.userStack(t.args._leader,t.args._round,function(n,r){null!=n?console.log(n):t.args._pot.dividedBy(r)>1&&$("#hallOfFame table").append("<tr><td>"+(e+1)+"</td><td>"+t.args._leader+"</td><td>"+web3.fromWei(t.args._pot,"ether").toString(10)+"<sup>ETH</sup></td><td>"+web3.fromWei(r,"ether")+"<sup>ETH</sup></td><td>"+t.args._pot.dividedBy(r).toString(10).substring(0,5)+"</td></tr>")})}))})}function x(n){document.getElementById("withdrawBtn").addEventListener("click",function(){n.payDay.sendTransaction({from:web3.eth.accounts[0],value:0},function(n,t){null!=n?console.log(n):console.log(t)})})}function M(n,t){var e=0;e=null==t?web3.eth.accounts[0]:t,n.yourPot(e,function(n,t){null!=n?console.log(n):$("#potSizeOfAcc")[0].innerHTML=web3.fromWei(t,"ether").toString(10)})}var S=e(1)._;document.addEventListener("DOMContentLoaded",function(){new SweetScroll({})},!1),window.addEventListener("load",function(){"undefined"!=typeof web3?(window.web3=new Web3(web3.currentProvider),u()):(console.log("No web3? You should consider trying MetaMask!"),o())})},function(n,t,e){var r,o;(function(){function e(n){function t(t,e,r,o,i,u){for(;i>=0&&i<u;i+=n){var a=o?o[i]:i;r=e(r,t[a],a,t)}return r}return function(e,r,o,i){r=x(r,i,4);var u=!E(e)&&k.keys(e),a=(u||e).length,c=n>0?0:a-1;return arguments.length<3&&(o=e[u?u[c]:c],c+=n),t(e,r,o,u,c,a)}}function i(n){return function(t,e,r){e=M(e,r);for(var o=A(t),i=n>0?0:o-1;i>=0&&i<o;i+=n)if(e(t[i],i,t))return i;return-1}}function u(n,t,e){return function(r,o,i){var u=0,a=A(r);if("number"==typeof i)n>0?u=i>=0?i:Math.max(i+a,u):a=i>=0?Math.min(i+1,a):i+a+1;else if(e&&i&&a)return i=e(r,o),r[i]===o?i:-1;if(o!==o)return(i=t(y.call(r,u,a),k.isNaN))>=0?i+u:-1;for(i=n>0?u:a-1;i>=0&&i<a;i+=n)if(r[i]===o)return i;return-1}}function a(n,t){var e=W.length,r=n.constructor,o=k.isFunction(r)&&r.prototype||f,i="constructor";for(k.has(n,i)&&!k.contains(t,i)&&t.push(i);e--;)(i=W[e])in n&&n[i]!==o[i]&&!k.contains(t,i)&&t.push(i)}var c=this,l=c._,s=Array.prototype,f=Object.prototype,p=Function.prototype,d=s.push,y=s.slice,h=f.toString,v=f.hasOwnProperty,b=Array.isArray,m=Object.keys,g=p.bind,w=Object.create,_=function(){},k=function n(t){return t instanceof n?t:this instanceof n?void(this._wrapped=t):new n(t)};void 0!==n&&n.exports&&(t=n.exports=k),t._=k,k.VERSION="1.8.3";var x=function(n,t,e){if(void 0===t)return n;switch(null==e?3:e){case 1:return function(e){return n.call(t,e)};case 2:return function(e,r){return n.call(t,e,r)};case 3:return function(e,r,o){return n.call(t,e,r,o)};case 4:return function(e,r,o,i){return n.call(t,e,r,o,i)}}return function(){return n.apply(t,arguments)}},M=function(n,t,e){return null==n?k.identity:k.isFunction(n)?x(n,t,e):k.isObject(n)?k.matcher(n):k.property(n)};k.iteratee=function(n,t){return M(n,t,1/0)};var S=function(n,t){return function(e){var r=arguments.length;if(r<2||null==e)return e;for(var o=1;o<r;o++)for(var i=arguments[o],u=n(i),a=u.length,c=0;c<a;c++){var l=u[c];t&&void 0!==e[l]||(e[l]=i[l])}return e}},B=function(n){if(!k.isObject(n))return{};if(w)return w(n);_.prototype=n;var t=new _;return _.prototype=null,t},j=function(n){return function(t){return null==t?void 0:t[n]}},T=Math.pow(2,53)-1,A=j("length"),E=function(n){var t=A(n);return"number"==typeof t&&t>=0&&t<=T};k.each=k.forEach=function(n,t,e){t=x(t,e);var r,o;if(E(n))for(r=0,o=n.length;r<o;r++)t(n[r],r,n);else{var i=k.keys(n);for(r=0,o=i.length;r<o;r++)t(n[i[r]],i[r],n)}return n},k.map=k.collect=function(n,t,e){t=M(t,e);for(var r=!E(n)&&k.keys(n),o=(r||n).length,i=Array(o),u=0;u<o;u++){var a=r?r[u]:u;i[u]=t(n[a],a,n)}return i},k.reduce=k.foldl=k.inject=e(1),k.reduceRight=k.foldr=e(-1),k.find=k.detect=function(n,t,e){var r;if(void 0!==(r=E(n)?k.findIndex(n,t,e):k.findKey(n,t,e))&&-1!==r)return n[r]},k.filter=k.select=function(n,t,e){var r=[];return t=M(t,e),k.each(n,function(n,e,o){t(n,e,o)&&r.push(n)}),r},k.reject=function(n,t,e){return k.filter(n,k.negate(M(t)),e)},k.every=k.all=function(n,t,e){t=M(t,e);for(var r=!E(n)&&k.keys(n),o=(r||n).length,i=0;i<o;i++){var u=r?r[i]:i;if(!t(n[u],u,n))return!1}return!0},k.some=k.any=function(n,t,e){t=M(t,e);for(var r=!E(n)&&k.keys(n),o=(r||n).length,i=0;i<o;i++){var u=r?r[i]:i;if(t(n[u],u,n))return!0}return!1},k.contains=k.includes=k.include=function(n,t,e,r){return E(n)||(n=k.values(n)),("number"!=typeof e||r)&&(e=0),k.indexOf(n,t,e)>=0},k.invoke=function(n,t){var e=y.call(arguments,2),r=k.isFunction(t);return k.map(n,function(n){var o=r?t:n[t];return null==o?o:o.apply(n,e)})},k.pluck=function(n,t){return k.map(n,k.property(t))},k.where=function(n,t){return k.filter(n,k.matcher(t))},k.findWhere=function(n,t){return k.find(n,k.matcher(t))},k.max=function(n,t,e){var r,o,i=-1/0,u=-1/0;if(null==t&&null!=n)for(var a=0,c=(n=E(n)?n:k.values(n)).length;a<c;a++)(r=n[a])>i&&(i=r);else t=M(t,e),k.each(n,function(n,e,r){((o=t(n,e,r))>u||o===-1/0&&i===-1/0)&&(i=n,u=o)});return i},k.min=function(n,t,e){var r,o,i=1/0,u=1/0;if(null==t&&null!=n)for(var a=0,c=(n=E(n)?n:k.values(n)).length;a<c;a++)(r=n[a])<i&&(i=r);else t=M(t,e),k.each(n,function(n,e,r){((o=t(n,e,r))<u||o===1/0&&i===1/0)&&(i=n,u=o)});return i},k.shuffle=function(n){for(var t,e=E(n)?n:k.values(n),r=e.length,o=Array(r),i=0;i<r;i++)(t=k.random(0,i))!==i&&(o[i]=o[t]),o[t]=e[i];return o},k.sample=function(n,t,e){return null==t||e?(E(n)||(n=k.values(n)),n[k.random(n.length-1)]):k.shuffle(n).slice(0,Math.max(0,t))},k.sortBy=function(n,t,e){return t=M(t,e),k.pluck(k.map(n,function(n,e,r){return{value:n,index:e,criteria:t(n,e,r)}}).sort(function(n,t){var e=n.criteria,r=t.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(e<r||void 0===r)return-1}return n.index-t.index}),"value")};var L=function(n){return function(t,e,r){var o={};return e=M(e,r),k.each(t,function(r,i){var u=e(r,i,t);n(o,r,u)}),o}};k.groupBy=L(function(n,t,e){k.has(n,e)?n[e].push(t):n[e]=[t]}),k.indexBy=L(function(n,t,e){n[e]=t}),k.countBy=L(function(n,t,e){k.has(n,e)?n[e]++:n[e]=1}),k.toArray=function(n){return n?k.isArray(n)?y.call(n):E(n)?k.map(n,k.identity):k.values(n):[]},k.size=function(n){return null==n?0:E(n)?n.length:k.keys(n).length},k.partition=function(n,t,e){t=M(t,e);var r=[],o=[];return k.each(n,function(n,e,i){(t(n,e,i)?r:o).push(n)}),[r,o]},k.first=k.head=k.take=function(n,t,e){if(null!=n)return null==t||e?n[0]:k.initial(n,n.length-t)},k.initial=function(n,t,e){return y.call(n,0,Math.max(0,n.length-(null==t||e?1:t)))},k.last=function(n,t,e){if(null!=n)return null==t||e?n[n.length-1]:k.rest(n,Math.max(0,n.length-t))},k.rest=k.tail=k.drop=function(n,t,e){return y.call(n,null==t||e?1:t)},k.compact=function(n){return k.filter(n,k.identity)};var O=function n(t,e,r,o){for(var i=[],u=0,a=o||0,c=A(t);a<c;a++){var l=t[a];if(E(l)&&(k.isArray(l)||k.isArguments(l))){e||(l=n(l,e,r));var s=0,f=l.length;for(i.length+=f;s<f;)i[u++]=l[s++]}else r||(i[u++]=l)}return i};k.flatten=function(n,t){return O(n,t,!1)},k.without=function(n){return k.difference(n,y.call(arguments,1))},k.uniq=k.unique=function(n,t,e,r){k.isBoolean(t)||(r=e,e=t,t=!1),null!=e&&(e=M(e,r));for(var o=[],i=[],u=0,a=A(n);u<a;u++){var c=n[u],l=e?e(c,u,n):c;t?(u&&i===l||o.push(c),i=l):e?k.contains(i,l)||(i.push(l),o.push(c)):k.contains(o,c)||o.push(c)}return o},k.union=function(){return k.uniq(O(arguments,!0,!0))},k.intersection=function(n){for(var t=[],e=arguments.length,r=0,o=A(n);r<o;r++){var i=n[r];if(!k.contains(t,i)){for(var u=1;u<e&&k.contains(arguments[u],i);u++);u===e&&t.push(i)}}return t},k.difference=function(n){var t=O(arguments,!0,!0,1);return k.filter(n,function(n){return!k.contains(t,n)})},k.zip=function(){return k.unzip(arguments)},k.unzip=function(n){for(var t=n&&k.max(n,A).length||0,e=Array(t),r=0;r<t;r++)e[r]=k.pluck(n,r);return e},k.object=function(n,t){for(var e={},r=0,o=A(n);r<o;r++)t?e[n[r]]=t[r]:e[n[r][0]]=n[r][1];return e},k.findIndex=i(1),k.findLastIndex=i(-1),k.sortedIndex=function(n,t,e,r){for(var o=(e=M(e,r,1))(t),i=0,u=A(n);i<u;){var a=Math.floor((i+u)/2);e(n[a])<o?i=a+1:u=a}return i},k.indexOf=u(1,k.findIndex,k.sortedIndex),k.lastIndexOf=u(-1,k.findLastIndex),k.range=function(n,t,e){null==t&&(t=n||0,n=0),e=e||1;for(var r=Math.max(Math.ceil((t-n)/e),0),o=Array(r),i=0;i<r;i++,n+=e)o[i]=n;return o};var $=function(n,t,e,r,o){if(!(r instanceof t))return n.apply(e,o);var i=B(n.prototype),u=n.apply(i,o);return k.isObject(u)?u:i};k.bind=function(n,t){if(g&&n.bind===g)return g.apply(n,y.call(arguments,1));if(!k.isFunction(n))throw new TypeError("Bind must be called on a function");var e=y.call(arguments,2);return function r(){return $(n,r,t,this,e.concat(y.call(arguments)))}},k.partial=function(n){var t=y.call(arguments,1);return function e(){for(var r=0,o=t.length,i=Array(o),u=0;u<o;u++)i[u]=t[u]===k?arguments[r++]:t[u];for(;r<arguments.length;)i.push(arguments[r++]);return $(n,e,this,this,i)}},k.bindAll=function(n){var t,e,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++)n[e=arguments[t]]=k.bind(n[e],n);return n},k.memoize=function(n,t){var e=function e(r){var o=e.cache,i=""+(t?t.apply(this,arguments):r);return k.has(o,i)||(o[i]=n.apply(this,arguments)),o[i]};return e.cache={},e},k.delay=function(n,t){var e=y.call(arguments,2);return setTimeout(function(){return n.apply(null,e)},t)},k.defer=k.partial(k.delay,k,1),k.throttle=function(n,t,e){var r,o,i,u=null,a=0;e||(e={});var c=function(){a=!1===e.leading?0:k.now(),u=null,i=n.apply(r,o),u||(r=o=null)};return function(){var l=k.now();a||!1!==e.leading||(a=l);var s=t-(l-a);return r=this,o=arguments,s<=0||s>t?(u&&(clearTimeout(u),u=null),a=l,i=n.apply(r,o),u||(r=o=null)):u||!1===e.trailing||(u=setTimeout(c,s)),i}},k.debounce=function(n,t,e){var r,o,i,u,a,c=function c(){var l=k.now()-u;l<t&&l>=0?r=setTimeout(c,t-l):(r=null,e||(a=n.apply(i,o),r||(i=o=null)))};return function(){i=this,o=arguments,u=k.now();var l=e&&!r;return r||(r=setTimeout(c,t)),l&&(a=n.apply(i,o),i=o=null),a}},k.wrap=function(n,t){return k.partial(t,n)},k.negate=function(n){return function(){return!n.apply(this,arguments)}},k.compose=function(){var n=arguments,t=n.length-1;return function(){for(var e=t,r=n[t].apply(this,arguments);e--;)r=n[e].call(this,r);return r}},k.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},k.before=function(n,t){var e;return function(){return--n>0&&(e=t.apply(this,arguments)),n<=1&&(t=null),e}},k.once=k.partial(k.before,2);var I=!{toString:null}.propertyIsEnumerable("toString"),W=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];k.keys=function(n){if(!k.isObject(n))return[];if(m)return m(n);var t=[];for(var e in n)k.has(n,e)&&t.push(e);return I&&a(n,t),t},k.allKeys=function(n){if(!k.isObject(n))return[];var t=[];for(var e in n)t.push(e);return I&&a(n,t),t},k.values=function(n){for(var t=k.keys(n),e=t.length,r=Array(e),o=0;o<e;o++)r[o]=n[t[o]];return r},k.mapObject=function(n,t,e){t=M(t,e);for(var r,o=k.keys(n),i=o.length,u={},a=0;a<i;a++)u[r=o[a]]=t(n[r],r,n);return u},k.pairs=function(n){for(var t=k.keys(n),e=t.length,r=Array(e),o=0;o<e;o++)r[o]=[t[o],n[t[o]]];return r},k.invert=function(n){for(var t={},e=k.keys(n),r=0,o=e.length;r<o;r++)t[n[e[r]]]=e[r];return t},k.functions=k.methods=function(n){var t=[];for(var e in n)k.isFunction(n[e])&&t.push(e);return t.sort()},k.extend=S(k.allKeys),k.extendOwn=k.assign=S(k.keys),k.findKey=function(n,t,e){t=M(t,e);for(var r,o=k.keys(n),i=0,u=o.length;i<u;i++)if(r=o[i],t(n[r],r,n))return r},k.pick=function(n,t,e){var r,o,i={},u=n;if(null==u)return i;k.isFunction(t)?(o=k.allKeys(u),r=x(t,e)):(o=O(arguments,!1,!1,1),r=function(n,t,e){return t in e},u=Object(u));for(var a=0,c=o.length;a<c;a++){var l=o[a],s=u[l];r(s,l,u)&&(i[l]=s)}return i},k.omit=function(n,t,e){if(k.isFunction(t))t=k.negate(t);else{var r=k.map(O(arguments,!1,!1,1),String);t=function(n,t){return!k.contains(r,t)}}return k.pick(n,t,e)},k.defaults=S(k.allKeys,!0),k.create=function(n,t){var e=B(n);return t&&k.extendOwn(e,t),e},k.clone=function(n){return k.isObject(n)?k.isArray(n)?n.slice():k.extend({},n):n},k.tap=function(n,t){return t(n),n},k.isMatch=function(n,t){var e=k.keys(t),r=e.length;if(null==n)return!r;for(var o=Object(n),i=0;i<r;i++){var u=e[i];if(t[u]!==o[u]||!(u in o))return!1}return!0};var F=function n(t,e,r,o){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof k&&(t=t._wrapped),e instanceof k&&(e=e._wrapped);var i=h.call(t);if(i!==h.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e}var u="[object Array]"===i;if(!u){if("object"!=(void 0===t?"undefined":_typeof(t))||"object"!=(void 0===e?"undefined":_typeof(e)))return!1;var a=t.constructor,c=e.constructor;if(a!==c&&!(k.isFunction(a)&&a instanceof a&&k.isFunction(c)&&c instanceof c)&&"constructor"in t&&"constructor"in e)return!1}r=r||[],o=o||[];for(var l=r.length;l--;)if(r[l]===t)return o[l]===e;if(r.push(t),o.push(e),u){if((l=t.length)!==e.length)return!1;for(;l--;)if(!n(t[l],e[l],r,o))return!1}else{var s,f=k.keys(t);if(l=f.length,k.keys(e).length!==l)return!1;for(;l--;)if(s=f[l],!k.has(e,s)||!n(t[s],e[s],r,o))return!1}return r.pop(),o.pop(),!0};k.isEqual=function(n,t){return F(n,t)},k.isEmpty=function(n){return null==n||(E(n)&&(k.isArray(n)||k.isString(n)||k.isArguments(n))?0===n.length:0===k.keys(n).length)},k.isElement=function(n){return!(!n||1!==n.nodeType)},k.isArray=b||function(n){return"[object Array]"===h.call(n)},k.isObject=function(n){var t=void 0===n?"undefined":_typeof(n);return"function"===t||"object"===t&&!!n},k.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){k["is"+n]=function(t){return h.call(t)==="[object "+n+"]"}}),k.isArguments(arguments)||(k.isArguments=function(n){return k.has(n,"callee")}),"function"!=typeof/./&&"object"!=("undefined"==typeof Int8Array?"undefined":_typeof(Int8Array))&&(k.isFunction=function(n){return"function"==typeof n||!1}),k.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},k.isNaN=function(n){return k.isNumber(n)&&n!==+n},k.isBoolean=function(n){return!0===n||!1===n||"[object Boolean]"===h.call(n)},k.isNull=function(n){return null===n},k.isUndefined=function(n){return void 0===n},k.has=function(n,t){return null!=n&&v.call(n,t)},k.noConflict=function(){return c._=l,this},k.identity=function(n){return n},k.constant=function(n){return function(){return n}},k.noop=function(){},k.property=j,k.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},k.matcher=k.matches=function(n){return n=k.extendOwn({},n),function(t){return k.isMatch(t,n)}},k.times=function(n,t,e){var r=Array(Math.max(0,n));t=x(t,e,1);for(var o=0;o<n;o++)r[o]=t(o);return r},k.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},k.now=Date.now||function(){return(new Date).getTime()};var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},H=k.invert(D),P=function(n){var t=function(t){return n[t]},e="(?:"+k.keys(n).join("|")+")",r=RegExp(e),o=RegExp(e,"g");return function(n){return n=null==n?"":""+n,r.test(n)?n.replace(o,t):n}};k.escape=P(D),k.unescape=P(H),k.result=function(n,t,e){var r=null==n?void 0:n[t];return void 0===r&&(r=e),k.isFunction(r)?r.call(n):r};var R=0;k.uniqueId=function(n){var t=++R+"";return n?n+t:t},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,C={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\u2028|\u2029/g,z=function(n){return"\\"+C[n]};k.template=function(n,t,e){!t&&e&&(t=e),t=k.defaults({},t,k.templateSettings);var r=RegExp([(t.escape||N).source,(t.interpolate||N).source,(t.evaluate||N).source].join("|")+"|$","g"),o=0,i="__p+='";n.replace(r,function(t,e,r,u,a){return i+=n.slice(o,a).replace(q,z),o=a+t.length,e?i+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":u&&(i+="';\n"+u+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var u=new Function(t.variable||"obj","_",i)}catch(n){throw n.source=i,n}var a=function(n){return u.call(this,n,k)},c=t.variable||"obj";return a.source="function("+c+"){\n"+i+"}",a},k.chain=function(n){var t=k(n);return t._chain=!0,t};var K=function(n,t){return n._chain?k(t).chain():t};k.mixin=function(n){k.each(k.functions(n),function(t){var e=k[t]=n[t];k.prototype[t]=function(){var n=[this._wrapped];return d.apply(n,arguments),K(this,e.apply(k,n))}})},k.mixin(k),k.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=s[n];k.prototype[n]=function(){var e=this._wrapped;return t.apply(e,arguments),"shift"!==n&&"splice"!==n||0!==e.length||delete e[0],K(this,e)}}),k.each(["concat","join","slice"],function(n){var t=s[n];k.prototype[n]=function(){return K(this,t.apply(this._wrapped,arguments))}}),k.prototype.value=function(){return this._wrapped},k.prototype.valueOf=k.prototype.toJSON=k.prototype.value,k.prototype.toString=function(){return""+this._wrapped},r=[],void 0!==(o=function(){return k}.apply(t,r))&&(n.exports=o)}).call(this)}]);